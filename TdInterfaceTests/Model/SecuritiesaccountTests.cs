using Microsoft.VisualStudio.TestTools.UnitTesting;
using TdInterface.Model;
using System;
using System.Collections.Generic;
using System.Text;
using System.Linq;

namespace TdInterface.Model.Tests
{
    [TestClass()]
    public class SecuritiesaccountTests
    {
        [TestMethod()]
        public void ParseJsonTest()
        {
            var json = "{  \"securitiesAccount\": {    \"type\": \"MARGIN\",    \"accountId\": \"xxx1234\",    \"roundTrips\": 0,    \"isDayTrader\": false,    \"isClosingOnlyRestricted\": false,    \"positions\": [      {        \"shortQuantity\": 0,        \"averagePrice\": 343.583,        \"currentDayCost\": 0,        \"currentDayProfitLoss\": 20.700000000001,        \"currentDayProfitLossPercentage\": 0.22,        \"longQuantity\": 30,        \"settledLongQuantity\": 30,        \"settledShortQuantity\": 0,        \"instrument\": {          \"assetType\": \"EQUITY\",          \"cusip\": \"244199105\",          \"symbol\": \"DE\"        },        \"marketValue\": 9420,        \"maintenanceRequirement\": 9420,        \"previousSessionLongQuantity\": 30      },      {        \"shortQuantity\": 0,        \"averagePrice\": 105.259,        \"currentDayCost\": 0,        \"currentDayProfitLoss\": 0,        \"currentDayProfitLossPercentage\": 0,        \"longQuantity\": 500,        \"settledLongQuantity\": 500,        \"settledShortQuantity\": 0,        \"instrument\": {          \"assetType\": \"EQUITY\",          \"cusip\": \"67066G104\",          \"symbol\": \"NVDA\"        },        \"marketValue\": 83470,        \"maintenanceRequirement\": 83470,        \"previousSessionLongQuantity\": 500      },      {        \"shortQuantity\": 0,        \"averagePrice\": 168.14,        \"currentDayCost\": 0,        \"currentDayProfitLoss\": 0,        \"currentDayProfitLossPercentage\": 0,        \"longQuantity\": 100,        \"settledLongQuantity\": 100,        \"settledShortQuantity\": 0,        \"instrument\": {          \"assetType\": \"EQUITY\",          \"cusip\": \"037833100\",          \"symbol\": \"AAPL\"        },        \"marketValue\": 13759,        \"maintenanceRequirement\": 13759,        \"previousSessionLongQuantity\": 100      },      {        \"shortQuantity\": 0,        \"averagePrice\": 70.06,        \"currentDayCost\": 0,        \"currentDayProfitLoss\": 0,        \"currentDayProfitLossPercentage\": 0,        \"longQuantity\": 100,        \"settledLongQuantity\": 100,        \"settledShortQuantity\": 0,        \"instrument\": {          \"assetType\": \"EQUITY\",          \"cusip\": \"125269100\",          \"symbol\": \"CF\"        },        \"marketValue\": 9579,        \"maintenanceRequirement\": 9579,        \"previousSessionLongQuantity\": 100      }    ],    \"initialBalances\": {      \"accruedInterest\": 0.01,      \"availableFundsNonMarginableTrade\": 2010.16,      \"bondValue\": 0,      \"buyingPower\": 2010.16,      \"cashBalance\": 0,      \"cashAvailableForTrading\": 0,      \"cashReceipts\": 0,      \"dayTradingBuyingPower\": 0,      \"dayTradingBuyingPowerCall\": 0,      \"dayTradingEquityCall\": 0,      \"equity\": 330639.25,      \"equityPercentage\": 100,      \"liquidationValue\": 330666.88,      \"longMarginValue\": 0,      \"longOptionMarketValue\": 0,      \"longStockValue\": 217329.08,      \"maintenanceCall\": 0,      \"maintenanceRequirement\": 328629.09,      \"margin\": 0,      \"marginEquity\": 0,      \"moneyMarketFund\": 2010.16,      \"mutualFundValue\": 111300.01,      \"regTCall\": 0,      \"shortMarginValue\": 0,      \"shortOptionMarketValue\": 0,      \"shortStockValue\": 0,      \"totalCash\": 2010.16,      \"isInCall\": false,      \"pendingDeposits\": 0,      \"marginBalance\": 0,      \"shortBalance\": 0,      \"accountValue\": 330666.89    },    \"currentBalances\": {      \"accruedInterest\": 0.01,      \"cashBalance\": 0,      \"cashReceipts\": 0,      \"longOptionMarketValue\": 0,      \"liquidationValue\": 330666.88,      \"longMarketValue\": 217356.72,      \"moneyMarketFund\": 2010.15,      \"savings\": 0,      \"shortMarketValue\": 0,      \"pendingDeposits\": 0,      \"availableFunds\": 2010.15,      \"availableFundsNonMarginableTrade\": 2010.15,      \"buyingPower\": 2010.15,      \"buyingPowerNonMarginableTrade\": 2010.15,      \"dayTradingBuyingPower\": 0,      \"equity\": 330666.88,      \"equityPercentage\": 100,      \"longMarginValue\": 328656.73,      \"maintenanceCall\": 0,      \"maintenanceRequirement\": 328656.73,      \"marginBalance\": 0,      \"regTCall\": 0,      \"shortBalance\": 0,      \"shortMarginValue\": 0,      \"shortOptionMarketValue\": 0,      \"sma\": 255943.26,      \"mutualFundValue\": 111300.01,      \"bondValue\": 0    },    \"projectedBalances\": {      \"availableFunds\": 2010.15,      \"availableFundsNonMarginableTrade\": 2010.15,      \"buyingPower\": 2010.15,      \"dayTradingBuyingPower\": 0,      \"dayTradingBuyingPowerCall\": 0,      \"maintenanceCall\": 0,      \"regTCall\": 0,      \"isInCall\": false,      \"stockBuyingPower\": 2010.15    }  }}";
            var actual = Securitiesaccount.ParseJson(json);


            Assert.Fail();
        }
    }
}